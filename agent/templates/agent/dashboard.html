{% extends "./base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %}
Agent dashboard
{% endblock %}
{% block view_name %}
Agent
{% endblock%}
{% load widget_tweaks %}
{% block content %}
  <div class="container py-2">
    <div class="row">
      <div class="col-md-3">
        {% include  './components/side_nav.html' %}
      </div>
      <div class="col-md-9">
      <div class="row">
        <div class="col-sm-6">
          <h5>This week</h5>
          <div class="table-responsive">
           <div class="chart-container" style="position: relative; height:400px; width:400px">
             <canvas id="weekly-chart" width="400" height="400"></canvas>
           </div>
          </div>
        </div>
        <div class="col-sm-6">
         <h5>This month</h5>
          <div class="table-responsive">
           <div class="chart-container" style="position: relative; height:400px; width:400px">
             <canvas id="monthly-chart" width="400" height="400"></canvas>
           </div>
          </div>
        </div>
      </div>
      <div class="mt-2">
        <h5>Recent earnings</h5>
         <div class="table-responsive">
            <table class="table">
               <thead>
                 <tr>
                    <th>Helped</th>
                    <th>Amount</th>
                    <th>Date</th>
                 </tr>
               </thead>
               <tbody>
                 {% for earning in earnings %}
                   <tr>
                     <td>{{earning.order.profile.firstname}}</td>
                     <td>{{earning.amount}}</td>
                     <td>{{earning.created}}</td>
                   </tr>
                 {% endfor %}
               </tbody>
            </table>
         </div>
      </div>
      </div>
    </div>
  </div>
{% endblock %}
{% block extra_javascript %}
<script src="{% static 'js/load_data.js' %}"></script>
{% endblock %}